# config
FROM python:3.6.5-slim
WORKDIR /app
COPY requirements.txt /requirements.txt
RUN pip install -r /requirements.txt
COPY . /app

ENV APP_SERVER_PORT=
ENV APP_SERVER_DEBUG=
ENV APP_SERVER_ENV=
ENV APP_SERVER_HOST=
ENV APP_SERVER_WORKERS=
ENV APP_SERVER_WORKER_CONNECTIONS=
ENV APP_SERVER_LOG_LEVEL=
ENV POSTGRES_USERNAME=
ENV POSTGRES_DBNAME=
ENV POSTGRES_PORT=
ENV POSTGRES_HOST=
ENV POSTGRES_PASSWORD=
ENV HTTPS=
ENV APP_SERVER_ENTRY_POINT=
ENV APP_SERVER_MIGRATIONS_FOLDER=

EXPOSE 5000
ENTRYPOINT [ "/bin/bash", "/app/run.sh" ]